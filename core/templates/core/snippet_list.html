{% extends "base.html" %}
{% load snippet_tags %}
{% load staticfiles %}

{% block content %}
<div class="ml5">
  <nav>

  </nav>

  <h1 class="font">Create Code Snippet:</h1>
  {% comment %} <textarea class="snippet_input"></textarea> {% endcomment %}
  {% comment %} <br> {% endcomment %}
  {% comment %} <div class="ml5"> {% endcomment %}
  {% comment %} <div class="draggable_snippets"> {% endcomment %}
  {% comment %} </div> {% endcomment %}
  {% comment %} </div> {% endcomment %}

  <form id="new-snippet-form" method='POST' action="{% url 'new-snippet' %}">
    {% csrf_token %}
    <table border="1" class="mb2">
      {{ form }}
    </table>
    <input id="snippet-field" type="submit" class="snippet-field"></input>
    {% comment %} <button type="submit" 
    class="mt2" 
    style="background-color: #7EE905; 
    padding: 6px 20px; 
    text-align: center;
    text-decoration: none;
    font-size: 1rem;
    font-family: 'Roboto', sans-serif;">Save</button> {% endcomment %}
  </form>
</div>
<div class="ml5 mt3" style="font-family: 'Raleway';">
  <h3>Your Snippet List</h3>
    {% for snippet in snippets.all %}
    {% if user == snippet.user %}
    <div id="snippet-{{ snippet.pk }}">
      <a href="{% url 'snippet-detail' slug=snippet.slug %}">{{ snippet }}</a>

      <form data-snippetpk="{{ snippet.pk }}" class="delete-snippet" method='POST' action="{% url 'confirm-snippet-delete' slug=snippet.slug %}">
        {% csrf_token %}
        <button type='submit' class="font button dim dib"><i class="fa fa-trash-o" aria-hidden="true"></i></button>
      </form>

      <span class="f6 gray">
      {% if snippet.public == True %} 
        (Public)
      {% else %} 
        (Private)
      {% endif %}
      </span>
      <span class="f6 gray">Copied: {% copyCount snippet.pk %}.</span>    
    </div>
  
  {% endif %}
  {% endfor %}
</div>
{% comment %} style="font-family: 'Raleway'; text-shadow: 1px 1px 1px #c4c0c0, 3px 3px 5px rgba(255, 255, 0, 0.741);" {% endcomment %}

{% comment %} <div class="mv4">
  <h2 class="font">Saved Snippets</h2>
  {% for snippet in snippets.all %}
  {% include "partials/snippet.html" %}
  {% empty %}
  <div>No snippets to show.</div>
  {% endfor %}
</div> {% endcomment %}

{% endblock %}